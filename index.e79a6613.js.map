{"mappings":"YACA,MAAMA,EAAoBC,SAASC,cAAc,mBAC3CC,EAAkBF,SAASC,cAAc,iBACzCE,EAAiBH,SAASI,iBAAiB,eAC3CC,EAAgBL,SAASI,iBAAiB,cAEnCE,EAAUC,IACjBA,GAEFF,EAAcG,SAAQC,GAASA,EAAKC,MAAMC,QAAU,UACpDR,EAAeK,SAAQC,GAASA,EAAKC,MAAMC,QAAU,WAGrDN,EAAcG,SAAQC,GAASA,EAAKC,MAAMC,QAAU,SACpDR,EAAeK,SAAQC,GAASA,EAAKC,MAAMC,QAAU,U,EAK5CC,EAAqBC,IAChC,GAAIA,EAAKC,OAAQ,CACf,IAAIC,EAAO,GACXF,EAAKL,SAAQQ,IACX,MAAMC,EAAgBD,EAAIH,OACpBK,EAAK,iFAE6CD,EAAcE,kEACzBF,EAAcG,4CAG3DL,GAAQG,CAAE,IAEZnB,EAAkBsB,UAAYN,C,MAE9BhB,EAAkBsB,UAChB,0DAA0D,EAKnDC,EAAmBT,IAC9B,GAAIA,EAAKC,OAAQ,CACf,IAAIC,EAAO,GACXF,EAAKL,SAAQQ,IACX,MAAMO,EAAcP,EAAIH,OAClBK,EAAK,iFAE6CK,EAAYJ,kEACvBI,EAAYH,4CAGzDL,GAAQG,CAAE,IAEZhB,EAAgBmB,UAAYN,C,MAE5Bb,EAAgBmB,UACd,0DAA0D,EAKhErB,SAASwB,iBAAiB,oBAAoB,WAC5C,MAAMC,EAASzB,SAASI,iBAAiB,UACzCsB,EAAEC,MAAMC,KAAKH,GAEb,MAAMI,EAAQ7B,SAASI,iBAAiB,gBACxCsB,EAAEI,YAAYF,KAAKC,E,IC/DrBE,KAAKC,oBAAmBzB,IAClBA,GACF0B,QAAQC,IAAI,mBAAoB3B,GAEhC4B,GAAGC,WAAW,kBACXC,MACAC,MAAKC,IACJ3B,EAAmB2B,EAASC,MAC5BlC,EAAQC,EAAK,IAGjB4B,GAAGC,WAAW,gBACXC,MACAC,MAAKC,IACJjB,EAAiBiB,EAASC,MAC1BlC,EAAQC,EAAK,MAGjB0B,QAAQC,IAAI,mBACZ5B,EAAQC,GACRK,EAAmB,IACnBU,EAAiB,I,IAKrB,MAAMmB,EAAazC,SAASC,cAAc,gBAC1CwC,EAAWjB,iBAAiB,UAE5B,SAA4BkB,GAC1BA,EAAEC,iBACFR,GAAGC,WAAW,kBACXQ,IAAI,CACHzB,MAAOsB,EAAWtB,MAAM0B,MACxBzB,QAASqB,EAAWrB,QAAQyB,QAE7BP,MAAK,KAEJ,MAAMQ,EAAQ9C,SAASC,cAAc,iBACrCyB,EAAEC,MAAMoB,YAAYD,GAAOE,QAC3BP,EAAWQ,OAAO,IAEnBC,OAAMC,IACLlB,QAAQC,IAAIiB,EAAIC,QAAQ,G,IAM9BX,EAAWjB,iBAAiB,UAE5B,SAA0BkB,GACxBA,EAAEC,iBACFR,GAAGC,WAAW,gBACXQ,IAAI,CACHzB,MAAOsB,EAAWtB,MAAM0B,MACxBzB,QAASqB,EAAWrB,QAAQyB,QAE7BP,MAAK,KAEJ,MAAMQ,EAAQ9C,SAASC,cAAc,iBACrCyB,EAAEC,MAAMoB,YAAYD,GAAOE,QAC3BP,EAAWQ,OAAO,IAEnBC,OAAMC,IACLlB,QAAQC,IAAIiB,EAAIC,QAAQ,G,IAK9B,MAAMC,EAAarD,SAASC,cAAc,gBAG1CoD,EAAW7B,iBAAiB,UAE5B,SAAgBkB,GACdA,EAAEC,iBAGF,MAAMW,EAAQD,EAAW,gBAAgBR,MACnCU,EAAWF,EAAW,mBAAmBR,MAE/CZ,QAAQC,IAAIoB,EAAOC,GAGnBxB,KAAKyB,+BAA+BF,EAAOC,GAAUjB,MAAKmB,IAExD,MAAMX,EAAQ9C,SAASC,cAAc,iBACrCyB,EAAEC,MAAMoB,YAAYD,GAAOE,QAC3BK,EAAWJ,OAAO,G,IAKPjD,SAASC,cAAc,WAE/BuB,iBAAiB,SAExB,SAAsBkB,GACpBA,EAAEC,iBACFZ,KAAK2B,UAAUpB,MAAK,Q,IAMtB,MAAMqB,EAAY3D,SAASC,cAAc,eAEzC0D,EAAUnC,iBAAiB,UAE3B,SAAqBkB,GACnBA,EAAEC,iBAGF,MAAMW,EAAQK,EAAU,eAAed,MACjCU,EAAWI,EAAU,kBAAkBd,MAG7Cd,KAAK6B,2BAA2BN,EAAOC,GAAUjB,MAAKmB,IACpDxB,QAAQC,IAAIuB,EAAKlD,MAEjB,MAAMuC,EAAQ9C,SAASC,cAAc,gBACrCyB,EAAEC,MAAMoB,YAAYD,GAAOE,QAC3BW,EAAUV,OAAO,G","sources":["src/js/materialize.js","src/js/auth.js"],"sourcesContent":["// DOM elements\nconst watchedMoviesList = document.querySelector('.watched_movies');\nconst queueMoviesList = document.querySelector('.queue_movies');\nconst loggedOutLinks = document.querySelectorAll('.logged-out');\nconst loggedInLinks = document.querySelectorAll('.logged-in');\n\nexport const setupUI = user => {\n  if (user) {\n    // toggle user UI elements\n    loggedInLinks.forEach(item => (item.style.display = 'block'));\n    loggedOutLinks.forEach(item => (item.style.display = 'none'));\n  } else {\n    //   toggle user elements\n    loggedInLinks.forEach(item => (item.style.display = 'none'));\n    loggedOutLinks.forEach(item => (item.style.display = 'block'));\n  }\n};\n\n// setup watchedMovies\nexport const setupWatchedMovies = data => {\n  if (data.length) {\n    let html = '';\n    data.forEach(doc => {\n      const watchedMovies = doc.data();\n      const li = `\n          <li>\n            <div class=\"collapsible-header grey lighten-4\"> ${watchedMovies.title} </div>\n            <div class=\"collapsible-body white\"> ${watchedMovies.content} </div>\n          </li>\n        `;\n      html += li;\n    });\n    watchedMoviesList.innerHTML = html;\n  } else {\n    watchedMoviesList.innerHTML =\n      '<h5 class=\"center-align\">Login to view your Library</h5>';\n  }\n};\n\n// setup queueMovies\nexport const setupQueueMovies = data => {\n  if (data.length) {\n    let html = '';\n    data.forEach(doc => {\n      const queueMovies = doc.data();\n      const li = `\n          <li>\n            <div class=\"collapsible-header grey lighten-4\"> ${queueMovies.title} </div>\n            <div class=\"collapsible-body white\"> ${queueMovies.content} </div>\n          </li>\n        `;\n      html += li;\n    });\n    queueMoviesList.innerHTML = html;\n  } else {\n    queueMoviesList.innerHTML =\n      '<h5 class=\"center-align\">Login to view your Library</h5>';\n  }\n};\n\n// setup materialize components\ndocument.addEventListener('DOMContentLoaded', function () {\n  const modals = document.querySelectorAll('.modal');\n  M.Modal.init(modals);\n\n  const items = document.querySelectorAll('.collapsible');\n  M.Collapsible.init(items);\n});\n","import { setupWatchedMovies, setupQueueMovies, setupUI } from './materialize';\n\n// listen for auth status changes\nauth.onAuthStateChanged(user => {\n  if (user) {\n    console.log('user logged in: ', user);\n    // get data\n    db.collection('watched_movies')\n      .get()\n      .then(snapshot => {\n        setupWatchedMovies(snapshot.docs);\n        setupUI(user);\n      });\n\n    db.collection('queue_movies')\n      .get()\n      .then(snapshot => {\n        setupQueueMovies(snapshot.docs);\n        setupUI(user);\n      });\n  } else {\n    console.log('user logged out');\n    setupUI(user);\n    setupWatchedMovies([]);\n    setupQueueMovies([]);\n  }\n});\n\n// create new guide (add to watched)\nconst createForm = document.querySelector('#create-form');\ncreateForm.addEventListener('submit', handleAddToWatched);\n\nfunction handleAddToWatched(e) {\n  e.preventDefault();\n  db.collection('watched_movies')\n    .add({\n      title: createForm.title.value,\n      content: createForm.content.value,\n    })\n    .then(() => {\n      // close the create modal & reset form\n      const modal = document.querySelector('#modal-create');\n      M.Modal.getInstance(modal).close();\n      createForm.reset();\n    })\n    .catch(err => {\n      console.log(err.message);\n    });\n}\n\n// create new guide (add to queue)\n// const createForm = document.querySelector('#create-form');\ncreateForm.addEventListener('submit', handleAddToQueue);\n\nfunction handleAddToQueue(e) {\n  e.preventDefault();\n  db.collection('queue_movies')\n    .add({\n      title: createForm.title.value,\n      content: createForm.content.value,\n    })\n    .then(() => {\n      // close the create modal & reset form\n      const modal = document.querySelector('#modal-create');\n      M.Modal.getInstance(modal).close();\n      createForm.reset();\n    })\n    .catch(err => {\n      console.log(err.message);\n    });\n}\n\n// signup\nconst signupForm = document.querySelector('#signup-form');\n// console.log(signupForm);\n\nsignupForm.addEventListener('submit', signUp);\n\nfunction signUp(e) {\n  e.preventDefault();\n\n  // get user info\n  const email = signupForm['signup-email'].value;\n  const password = signupForm['signup-password'].value;\n\n  console.log(email, password);\n\n  // sign up the user\n  auth.createUserWithEmailAndPassword(email, password).then(cred => {\n    // close the signup modal & reset form\n    const modal = document.querySelector('#modal-signup');\n    M.Modal.getInstance(modal).close();\n    signupForm.reset();\n  });\n}\n\n// logout\nconst logout = document.querySelector('#logout');\n\nlogout.addEventListener('click', handleLogout);\n\nfunction handleLogout(e) {\n  e.preventDefault();\n  auth.signOut().then(() => {\n    //     console.log('user signed out');\n  });\n}\n\n// login\nconst loginForm = document.querySelector('#login-form');\n\nloginForm.addEventListener('submit', handleLogin);\n\nfunction handleLogin(e) {\n  e.preventDefault();\n\n  // get user info\n  const email = loginForm['login-email'].value;\n  const password = loginForm['login-password'].value;\n\n  // log the user in\n  auth.signInWithEmailAndPassword(email, password).then(cred => {\n    console.log(cred.user);\n    // close the signup modal & reset form\n    const modal = document.querySelector('#modal-login');\n    M.Modal.getInstance(modal).close();\n    loginForm.reset();\n  });\n}\n\n// ========================================================\n\n// // Import the functions you need from the SDKs you need\n// import { initializeApp } from 'firebase/app';\n// import { getAnalytics } from 'firebase/analytics';\n// // TODO: Add SDKs for Firebase products that you want to use\n// // https://firebase.google.com/docs/web/setup#available-libraries\n\n// // Your web app's Firebase configuration\n// // For Firebase JS SDK v7.20.0 and later, measurementId is optional\n// const firebaseConfig = {\n//   apiKey: 'AIzaSyDGQ2jBOS4EyJvqXyhSM9D4atz_WFZvVFo',\n//   authDomain: 'filmoteka-cotton.firebaseapp.com',\n//   projectId: 'filmoteka-cotton',\n//   storageBucket: 'filmoteka-cotton.appspot.com',\n//   messagingSenderId: '560408443484',\n//   appId: '1:560408443484:web:aa5f545504ece1d0d18499',\n//   measurementId: 'G-70V3NB3BG9',\n// };\n\n// // Initialize Firebase\n// const app = initializeApp(firebaseConfig);\n// const analytics = getAnalytics(app);\n"],"names":["$d9767bb699c5fe49$var$watchedMoviesList","document","querySelector","$d9767bb699c5fe49$var$queueMoviesList","$d9767bb699c5fe49$var$loggedOutLinks","querySelectorAll","$d9767bb699c5fe49$var$loggedInLinks","$d9767bb699c5fe49$export$86a308b97e5e5308","user","forEach","item","style","display","$d9767bb699c5fe49$export$2c98238cfc070e0e","data","length","html","doc","watchedMovies","li","title","content","innerHTML","$d9767bb699c5fe49$export$7057126413bdb2d0","queueMovies","addEventListener","modals","M","Modal","init","items","Collapsible","auth","onAuthStateChanged","console","log","db","collection","get","then","snapshot","docs","$a8c8b369db0e2137$var$createForm","e","preventDefault","add","value","modal","getInstance","close","reset","catch","err","message","$a8c8b369db0e2137$var$signupForm","email","password","createUserWithEmailAndPassword","cred","signOut","$a8c8b369db0e2137$var$loginForm","signInWithEmailAndPassword"],"version":3,"file":"index.e79a6613.js.map"}