!function(){const e=document.querySelector(".watched_movies"),t=document.querySelector(".queue_movies"),n=document.querySelectorAll(".logged-out"),o=document.querySelectorAll(".logged-in"),l=e=>{e?(o.forEach((e=>e.style.display="block")),n.forEach((e=>e.style.display="none"))):(o.forEach((e=>e.style.display="none")),n.forEach((e=>e.style.display="block")))},c=t=>{if(t.length){let n="";t.forEach((e=>{const t=e.data(),o=`\n          <li>\n            <div class="collapsible-header grey lighten-4"> ${t.title} </div>\n            <div class="collapsible-body white"> ${t.content} </div>\n          </li>\n        `;n+=o})),e.innerHTML=n}else e.innerHTML='<h5 class="center-align">Login to view your Library</h5>'},s=e=>{if(e.length){let n="";e.forEach((e=>{const t=e.data(),o=`\n          <li>\n            <div class="collapsible-header grey lighten-4"> ${t.title} </div>\n            <div class="collapsible-body white"> ${t.content} </div>\n          </li>\n        `;n+=o})),t.innerHTML=n}else t.innerHTML='<h5 class="center-align">Login to view your Library</h5>'};document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".modal");M.Modal.init(e);const t=document.querySelectorAll(".collapsible");M.Collapsible.init(t)})),auth.onAuthStateChanged((e=>{e?(console.log("user logged in: ",e),db.collection("watched_movies").get().then((t=>{c(t.docs),l(e)})),db.collection("queue_movies").get().then((t=>{s(t.docs),l(e)}))):(console.log("user logged out"),l(e),c([]),s([]))}));const i=document.querySelector("#create-form");i.addEventListener("submit",(function(e){e.preventDefault(),db.collection("watched_movies").add({title:i.title.value,content:i.content.value}).then((()=>{const e=document.querySelector("#modal-create");M.Modal.getInstance(e).close(),i.reset()})).catch((e=>{console.log(e.message)}))})),i.addEventListener("submit",(function(e){e.preventDefault(),db.collection("queue_movies").add({title:i.title.value,content:i.content.value}).then((()=>{const e=document.querySelector("#modal-create");M.Modal.getInstance(e).close(),i.reset()})).catch((e=>{console.log(e.message)}))}));const a=document.querySelector("#signup-form");a.addEventListener("submit",(function(e){e.preventDefault();const t=a["signup-email"].value,n=a["signup-password"].value;console.log(t,n),auth.createUserWithEmailAndPassword(t,n).then((e=>{const t=document.querySelector("#modal-signup");M.Modal.getInstance(t).close(),a.reset()}))}));document.querySelector("#logout").addEventListener("click",(function(e){e.preventDefault(),auth.signOut().then((()=>{}))}));const d=document.querySelector("#login-form");d.addEventListener("submit",(function(e){e.preventDefault();const t=d["login-email"].value,n=d["login-password"].value;auth.signInWithEmailAndPassword(t,n).then((e=>{console.log(e.user);const t=document.querySelector("#modal-login");M.Modal.getInstance(t).close(),d.reset()}))}))}();
//# sourceMappingURL=index.e79a6613.js.map
